module Common

exports

  lexical syntax
  
    [a-zA-Z][a-zA-Z0-9\_\-\$\']* -> ID {prefer}
    "-"? [0-9]+                  -> INT
    
    "\"" StringChar* "\"" -> STRING
    ~[\"\n]               -> StringChar
    "\\\""                -> StringChar
    BackSlashChar         -> StringChar
    "\\"                  -> BackSlashChar

    %%[\ \t\n\r] -> LAYOUT
    
    -> EOF
  
  lexical restrictions
  
    %% Ensure greedy matching for lexicals
  
    %%CommentChar -/- [\/]
    INT           -/- [0-9]
    ID            -/- [a-zA-Z0-9\_\-\$\']
    
    %% EOF may not be followed by any char
    
    EOF           -/- ~[]

    %% Backslash chars in strings may not be followed by " 
    
    BackSlashChar -/- [\"]

  context-free restrictions
  
    %%LAYOUT? -/- [\ \t\n\r]
 